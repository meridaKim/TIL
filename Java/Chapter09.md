# Chapter 09
## 인터페이스
>참고 문헌 : 이것이 자바다

### 9.1 중첩 클래스
* 중첩 클래스 : 클래스 내부에 선언한 클래스
  * 클래스의 멤버를 쉽게 사용
  * 외부에는 중첩 관계 클래스 감춤 -> 코드의 복잡성 감소
  * 유지 보수에 용이
* 중첩 클래스 (멤버 클래스와 로컬 클래스)
    * 멤버 클래스 : **클래스의 멤버**로서 선언되는 중첩 클래스 -> `A $ B .class` _*B : 멤버 클래스_
    * 로컬 클래스 : **메소드 내부**에서 선언되는 중첩 클래스 -> `A 1$ B .class` _*B : 로컬 클래스_
 
| 선언 위치에 따른 분류 |             | 선언 위치                                         | 객체 생성 조건                     |
|--------------|-------------|-----------------------------------------------|------------------------------|
| 멤버 클래스       | 인스턴스 멤버 클래스 | ``` class A {           class B {...}}```     | A 객체를 생성해야만 B 객체를 생성할 수 있음   |
| 멤버 클래스       | 정적 멤버 클래스   | ```class A{ static class B{...}}```           | A 객체를 생성하지 않아도 B객체를 생성할 수 있음 |
| 로컬 클래스       |             | ```class A{ void method(){ class B {...}}}``` | method가 실행할 때만 B객체를 생성할 수 있음 |

### 9.2 인스턴스 멤버 클래스
* 멤버 클래스 : A 클래스의 멤버로 선언된 B 클래스
``` 
[public] class A {
    [public | private] class B{
    }
}
```
* 접근 제한자에 따른 인스턴스 멤버 클래스의 접근 범위(private가 일반적)
* B 객체는 인스턴스 필드값, 생성자, 인스턴스 메소드에서 생성할 수 있다.
* **A객체가 있어야 B객체가 생성**
* 인스턴스 멤버 클래스 B 내부에는 일반 클래스처럼 필드, 생성자, 메소드 선언이 올 수 있다.
  * 정적 필드와 정적 메소드는 Java 17부터 선언 가능
  

| 구분                | 접근 범위                        |
|-------------------|------------------------------|
| public class B{}  | 다른 패키지에서 B 클래스를 사용할 수 있다.    |
| class B{}         | 같은 패키지에서만 B 클래스를 사용할 수 있다.   |
| `private class B{}` | A 클래스 내부에서만 B 클래스를 사용할 수 있다. |
* B객체를 A 클래스 외부에서 생성하려면 default, public 접근 제한을 가져야 하고 **A 객체 생성 후 B 객체 생성** 가능
```
A a = new A();
A.B b = a.new B();
```

### 9.3 정적 멤버 클래스

* `static`과 함께 A 클래스의 멤버로 선언된 B 클래스
* 정적 멤버 클래스 B 내부에는 일반 클래스처럼 필드, 생성자, 메소드 선언이 올 수 있다.

``` 
[public] class A {
    [public | private] static class B{
    }
}
```
* 접근 제한자에 따른 정적 멤버 클래스의 접근 범위(A 클래스 외부에서의 사용이 일반적)

| 구분                       | 접근 범위                        |
|--------------------------|------------------------------|
| `public static class B{}`  | 다른 패키지에서 B 클래스를 사용할 수 있다.    |
| static class B{}         | 같은 패키지에서만 B 클래스를 사용할 수 있다.   |
| private static class B{} | A 클래스 내부에서만 B 클래스를 사용할 수 있다. |

* A 클래스 외부에서 B 객체를 생성하려면 **A 객체 생성 없이** A클래스로 접근해서 **B 객체 생성** 가능

`A.B b = new A.B();`

### 9.4 로컬 클래스
* 로컬 클래스(_클래스 B_) : 생성자 또는 메소드 내부에서 선언된 클래스 
* 생성자와 메소드가 실행될 동안에만 객체를 생성할 수 있다.
* 로컬 변수(1.생성자 2.메소드의 매개변수 3.내부에서 선언된 변수)를 로컬 클래스에서 사용할 경우 로컬 변수는 `final` 특성을 갖게 되므로 **값 읽기 가능, 수정 불가**
* Java 8 이후부터는 final 명시 x
``` 
 class A {
    [public | private] [static] class B{
    //상수 필드
    //추상 메소드
    //디폴드 메소드
    //정적 메소드
    }
}
```

### 9.5 바깥 멤버 접근
* 선언 방식에 따른 바깥 클래스의 멤버 접근 제한
* 정적 멤버 클래스는 바깥 객체가 없어도 사용 가능해야하므로 바깥 클래스의 인스턴스 필드와 인스턴스 메소드는 사용하지 못한다.

| 구분          | 바깥 클래스의 사용 가능한 멤버     |
|-------------|-----------------------|
| 인스턴스 멤버 클래스 | 바깥 클래스의 모든 필드와 메소드    |
| 정적 멤버 클래스   | 바깥 클래스의 정적 필드와 정적 메소드 |

#### 바깥 클래스의 객체 접근
* this : 해당 중첩 클래스의 객체를 말한다.
`바깥클래스이름.this -> 바깥객체`

### 9.6 중첩 인터페이스

* 중첩 인터페이스 : 클래스의 멤버로 선언된 인터페이스
* 인터페이스를 내부에 선언하는 이유는 해당 클래스와 긴밀한 관계를 맺는 구현 객체를 만들기 위해서.
* 외부의 접근을 막지 않으려면 public, A 클래스 내부에서만 사용하려면 private, 접근 제한자를 붙이지 않으면 **같은 패키지 안**에서만 접근 가능
* 주로 UI 프로그램에서 이벤트 처리시 사용


``` 
class A {
    //생성자
    class B{}
    }
    //메소드
    public void method(){
    class B{}
    }
}
```

``` 
public class Button {
    //정적 중첩 인터페이스
       public static interface ClickListener{}
    }
    //추상 메소드
    void onClick(){
    }
}
```
* 외부에서 접근 가능하고 Button 객체 없이 사용할 수 있는 static 중첩 인터페이스 ClickListener
* onClick 메소드는 버튼이 클릭되었을 때 호출된다.
``` 
public class Button {
    //정적 중첩 인터페이스
       public static interface ClickListener{}
    }
    //추상 메소드
    void onClick(){
    }
    //필드
    private ClickListener clicklistener;
    //메소드
    public void setClicklistener(ClickListener clickListner//구현 객체){
    this.clickListener = clickListener; // 중첩 인터페이스 타입으로 필드와 Setter 선언
    }
}
```
* Button 클래스에 ClickListener 타입의 필드와 Setter를 추가해서 외부에서 Setter를 통해 ClickListerner 구현 객체를 필드에 저장한다.
``` 
public class Button {
    //정적 중첩 인터페이스
       public static interface ClickListener{}
    }
    //추상 메소드
    void onClick(){
    }
    //필드
    private ClickListener clicklistener;
    //메소드
    public void setClicklistener(ClickListener clickListner//구현 객체){
    this.clickListener = clickListener; // 중첩 인터페이스 타입으로 필드와 Setter 선언
    }
    public void click(){
        this.clickListener.onclick();
        //Button이 클릭되었을 때 실행하는 메소드 선언
    }
}
```
* Button이 클릭 될 때 실행할 메소드 click(), 실행 내용은 ClickListener 인터페이스 필드를 이용해서 onClick() 추상 메소드 호출
* onClick() 메소드를 재정의하여 버튼이 클릭되었을 때 해햐할 일을 코딩한다. 
* 버튼에 어떤 ClickListener 구현 객체가 설정되었느냐에 따라 실행 결과가 달라진다.-> `다형성`

### 9.7 익명 객체
* 익명 객체: 이름이 없는 객체 
* 명시적으로 클래스를 선언하지 않아 쉽게 객체 생성 가능
* 필드값, 로컬 변수값, 매개변수값으로 주로 사용
* **클래스를 상속하거나 인터페이스를 구현해야만 생성**
* 클래스 상속하여 만들면 `익명 자식 객체`
* 인터페이스를 상속하여 만들면 `익명 구현 객체`

#### 익명 자식 객체
* 부모 상속받아 생성된 자식 객체는 부모 타입의 필드, 로컬 변수, 매개변수의 값으로 대입 가능
* 중괄호 블록 안의 필드와 메소드는 자식 객체가 가져야 할 멤버로, 중괄호 안에서만 사용
* 부모 타입에 선언된 멤버만 접근할 수 있기 때문
* 중괄호는 부모 메소드를 재정의하는 코드가 온다.`다형성`
```
    new 부모생성자(매개값, ...){
    //필드
    //메소드
    }
```
#### 익명 구현 객체
* 인터페이스 구현한 구현 객체는 인터페이스 타입의 필드, 로컬 변수, 매개변수의 값으로 대입 가능
* 중괄호 블록 안의 필드와 메소드는 구현 객체가 가져야 할 멤버로, 중괄호 안에서만 사용
* 인터페이스 타입에 선언된 멤버만 접근할 수 있기 때문
* 중괄호는 인터페이스의 추상 메소드를 재정의하는 코드가 온다.`다형성`
```
    new 인터페이스(){
    //필드
    //메소드
    }
```